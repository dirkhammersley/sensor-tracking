
<!DOCTYPE html>
<html>
<head>
  <title>sensors</title>
</head>
<body>
<style type="text/css">
	body {
    background-color: lightblue;
}
</style>
  <script src="https://d3js.org/d3.v5.js"></script>
  <script>
   function makeNode(x, y){

   	 var circleStats = [1, 1, 1]; //track toggling of circles
     var svgContainer = d3.select("body").append("svg")
                                         .attr("width", 115)
                                         .attr("height", 150)
                                         .attr("transform", "translate("+ x +", "+ y +")")
     
     var jsonCircles = [ //circles at corners of rectangle
       {
        "x_axis":30,
        "y_axis":30,
        "radius":10,
        "color" : "white",
        "id":0
       },{
        "x_axis":95,
        "y_axis":30,
        "radius":10,
        "color" : "white",
        "id":1
       },{
        "x_axis":95,
        "y_axis":125,
        "radius":10,
        "color" : "white",
        "id":2
       }];

     var jsonRect = [ //body rectangle
     {
     	"width":65,
     	"height":95,
     	"x_pos":30,
     	"y_pos":30,
     	"color":"lightblue",
     	"id":0
     }];

     var rect = svgContainer.selectAll("rect")
     							.data(jsonRect)
     							.enter()
     							.append("rect");

     var rectAttributes = rect
     					.attr("x", function(d) {return d.x_pos;})
     					.attr("y", function(d) {return d.y_pos;})
     					.attr("width", function(d) {return d.width;})
     					.attr("stroke", "white")
     					.attr("stroke-width", "3")
     					.attr("height", function(d) {return d.height;})
     					.style("fill", function(d) {return d.color;})

     var circles = svgContainer.selectAll("circle")
                               .data(jsonCircles)
                               .enter()
                               .append("circle");

    var circleAttributes = circles
                       .attr("cx", function (d) { return d.x_axis; })
                       .attr("cy", function (d) { return d.y_axis; })
                       .attr("r", function (d) { return d.radius; })
                       .attr("stroke", "white")
                       .attr("stroke-width", "3")
                       .attr("id", function(d){ return "circ" + d.id; })
                       .style("fill", function(d) { return d.color; });

    var fillCircle = d3.selectAll("circle").on("click", function(){
                                          d3.select(this).style("fill", function(d) {var returnColor;
                                          											var curStatus = circleStats[Number(d3.event.target.id.substr(4))]
                         															if (curStatus == 0) { returnColor = "white"; 
                         																				  circleStats[Number(d3.event.target.id.substr(4))] = 1;}
                         															else if (curStatus == 1) { returnColor = "lightblue"; 
                         																					   circleStats[Number(d3.event.target.id.substr(4))] = 0;}
                         															return returnColor;
                                      	})});
}

makeNode(0,0);
makeNode(0,0);
makeNode(0,0);

</script>
</body>
</html>

